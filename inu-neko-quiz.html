<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>çŒ«ã¨çŠ¬ã®å¿ƒç†ç ”ç©¶ã‚¯ã‚¤ã‚ºï½œçŸ¥è­˜ã®æ°´æ§½</title>
<meta name="description" content="é¸ã‚“ã ç¬é–“ã«ç­”ãˆãŒå‡ºã‚‹ï¼ç›´æ„Ÿã¨ã‚ºãƒ¬ã‚„ã™ã„â€œæ„å¤–ãªç ”ç©¶â€ã‚’ã‚‚ã¨ã«ã—ãŸçŒ«ãƒ»çŠ¬ã‚¯ã‚¤ã‚ºï¼ˆ10å•ï¼‰ã€‚çµæœã¯3æ®µéšã®ç”»åƒã¤ãã€‚">
<meta name="theme-color" content="#f6fbff">
<base href="/quiz/">
<meta property="og:type" content="website">
<meta property="og:title" content="çŒ«ã¨çŠ¬ã®å¿ƒç†ç ”ç©¶ã‚¯ã‚¤ã‚ºï½œçŸ¥è­˜ã®æ°´æ§½">
<meta property="og:description" content="é¸ã‚“ã ç¬é–“ã«ç­”ãˆãŒå‡ºã‚‹ï¼ç›´æ„Ÿã¨ã‚ºãƒ¬ã‚„ã™ã„â€œæ„å¤–ãªç ”ç©¶â€ãƒ™ãƒ¼ã‚¹ã®çŒ«ãƒ»çŠ¬ã‚¯ã‚¤ã‚ºï¼ˆ10å•ï¼‰ã€‚">
<meta property="og:url" content="https://haisuikounozarigani.github.io/quiz/inu-neko-quiz.html">
<meta property="og:image" content="https://haisuikounozarigani.github.io/quiz/assets/hero/knowledge-aquarium-1080.png">
<style>
:root{--accent:#4aa8ff;--accent2:#a48bff;--bg1:#f6fbff;--bg2:#eef2ff;--ink:#1f2a33;--muted:#62707c;--line:#e6edf6}
*{box-sizing:border-box}img{max-width:100%;display:block}
body{margin:0;font-family:system-ui,"Noto Sans JP",sans-serif;color:var(--ink);background:linear-gradient(var(--bg1),var(--bg2))}
a{color:inherit;text-decoration:none}
header{position:relative;isolation:isolate}
.nav{position:absolute;inset:12px 12px auto 12px;display:flex;justify-content:space-between;align-items:center}
.brand{font-weight:700;background:rgba(255,255,255,.78);backdrop-filter:blur(6px);padding:8px 12px;border-radius:12px}
.nav .right a{display:inline-block;padding:8px 12px;border-radius:12px;background:rgba(74,168,255,.14);border:1px solid rgba(74,168,255,.35)}
.hero{min-height:42svh;display:grid;place-items:center;text-align:center;padding:28px 16px;color:#fff;background:
linear-gradient(180deg,rgba(0,0,0,.1),rgba(0,0,0,.25)),
url("assets/hero/knowledge-aquarium-1080.png") center/cover no-repeat}
h1{margin:0 0 6px;font-size:clamp(22px,6vw,40px);text-shadow:0 2px 12px rgba(0,0,0,.28)}
.sub{margin:0;color:#f5ecff}
.wrap{max-width:920px;margin:-22px auto 64px;padding:0 16px}
.card{background:#fff;border:1px solid var(--line);border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.06);padding:16px}
.meta{display:flex;gap:8px;flex-wrap:wrap;color:var(--muted);font-size:13px;margin-bottom:8px}
.pill{padding:4px 8px;border-radius:999px;background:#eef6ff;border:1px solid #cfe2ff}
.q{border-top:1px dashed #d9e6f5;padding-top:12px;margin-top:12px}
.q h3{margin:.2em 0 .4em;font-size:16px}
.opts{display:grid;gap:8px}
.opt{display:flex;gap:10px;align-items:flex-start;border:1px solid #d9e6f5;border-radius:12px;padding:10px;background:#fbfdff;cursor:pointer;transition:transform .06s}
.opt:hover{border-color:#9ec0ff;transform:translateY(-1px)}
.opt input{transform:translateY(2px)}
.opt.correct{border-color:#36c27a;background:#eefcf4;position:relative}
.opt.correct::after{content:"ğŸ‰";position:absolute;right:10px;top:8px}
.opt.wrong{border-color:#ff7b7b;background:#fff3f3;animation:shake .18s 2}
@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-2px)}50%{transform:translateX(2px)}75%{transform:translateX(-2px)}100%{transform:translateX(0)}}
.ex{margin:.45em 0 0;color:#233341;font-size:14px}
.ex .wink{display:inline-block;margin-left:.3em}
.actions{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
.btn{appearance:none;border:1px solid #cfe2ff;background:#eaf3ff;border-radius:12px;padding:10px 14px;font-size:14px;cursor:pointer}
.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;border:none}
.result{margin-top:14px;padding:12px;border-radius:12px;background:#f2f8ff;border:1px solid #cfe2ff}
.score{font-size:clamp(20px,4.5vw,28px);margin:.2em 0}
.progress{height:10px;border-radius:999px;background:#e7eef8;overflow:hidden}
.progress>i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2))}
#resultImg{display:block;width:100%;max-width:520px;margin:10px auto;border-radius:16px;border:1px solid var(--line);background:#fff}
.footer{max-width:920px;margin:24px auto 64px;padding:0 16px;color:var(--muted);font-size:13px}
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
.confetti{position:fixed;inset:0;pointer-events:none;overflow:hidden}
.dot{position:absolute;width:8px;height:8px;border-radius:50%;opacity:.9;animation:fall 900ms ease-out forwards}
@keyframes fall{to{transform:translateY(120vh) rotate(540deg);opacity:0}}
.lmemo{font-size:12px;color:#6b7a86;border-top:1px dashed #cfe2ff;margin-top:10px;padding-top:10px}
</style>
</head>
<body data-id="inu-neko-quiz">
<header>
  <nav class="nav" aria-label="ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒŠãƒ“">
    <div class="brand"><a href="/quiz/index.html">çŸ¥è­˜ã®æ°´æ§½</a></div>
    <div class="right"><a href="/shindan/">è¨ºæ–­ä¸€è¦§</a></div>
  </nav>
  <div class="hero" role="img" aria-label="çŒ«ã¨çŠ¬ã®å¿ƒç†ç ”ç©¶ã‚¯ã‚¤ã‚ºã®ãƒ’ãƒ¼ãƒ­ãƒ¼">
    <div>
      <h1>çŒ«ã¨çŠ¬ã®å¿ƒç†ç ”ç©¶ã‚¯ã‚¤ã‚º</h1>
      <p class="sub">é¸ã‚“ã ç¬é–“ã«ã‚¸ãƒ£ãƒƒã‚¸ï¼ ç›´æ„Ÿ vs ç ”ç©¶ã®ã‚ºãƒ¬ã‚’æ¥½ã—ããƒã‚§ãƒƒã‚¯ï¼ˆ10å•ï¼‰</p>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="card" aria-labelledby="quizTitle">
    <div class="meta"><span class="pill">â±3åˆ†</span><span class="pill">#å¿ƒç†</span><span class="pill">#çŒ«</span><span class="pill">#çŠ¬</span></div>
    <h2 id="quizTitle" class="visually-hidden">çŒ«ã¨çŠ¬ã®å¿ƒç†ç ”ç©¶ã‚¯ã‚¤ã‚º</h2>

    <div id="quiz" aria-live="polite">
      <div class="q" data-qid="q1">
        <h3>Q1. çŠ¬æ´¾ã¨çŒ«æ´¾ã€ã€Œå¹³å‡ã™ã‚‹ã¨æ€§æ ¼ã«ã¡ã‚‡ã£ã¨ã—ãŸé•ã„ã€ãŒã‚ã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q1">
          <label class="opt"><input type="radio" name="q1" value="a">ã‚ã‚‹ï¼ˆå°ã•ã„ãŒè¦‹ã‚‰ã‚Œã‚‹ï¼‰</label>
          <label class="opt"><input type="radio" name="q1" value="b">ãªã„ï¼ˆå®Œå…¨ã«åŒã˜ï¼‰</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q2">
        <h3>Q2. çŒ«ã¯ã€Œèµ¤ã¡ã‚ƒã‚“è¨€è‘‰ã€ãªã‚‰èª°ã®å£°ã§ã‚‚ã”æ©Ÿå«Œã«ãªã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q2">
          <label class="opt"><input type="radio" name="q2" value="a">ãªã‚‹ï¼ˆèª°ã§ã‚‚OKï¼‰</label>
          <label class="opt"><input type="radio" name="q2" value="b">èº«å†…ï¼ˆé£¼ã„ä¸»ï¼‰ã®å£°ãŒåŠ¹ãã‚„ã™ã„</label>
          <label class="opt"><input type="radio" name="q2" value="c">ãªã‚‰ãªã„</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q3">
        <h3>Q3. çŒ«ã¯è‡ªåˆ†ã®åå‰ã€ã»ã‚“ã¨ã«èãåˆ†ã‘ã¦ã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q3">
          <label class="opt"><input type="radio" name="q3" value="a">èãåˆ†ã‘ã¦ã‚‹</label>
          <label class="opt"><input type="radio" name="q3" value="b">æ°—ã®ã›ã„</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q4">
        <h3>Q4. çŠ¬ã¨è¦‹ã¤ã‚åˆã†ã¨ä¸ŠãŒã‚Šã‚„ã™ã„ãƒ›ãƒ«ãƒ¢ãƒ³ã¯ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q4">
          <label class="opt"><input type="radio" name="q4" value="a">ã‚ªã‚­ã‚·ãƒˆã‚·ãƒ³</label>
          <label class="opt"><input type="radio" name="q4" value="b">ã‚³ãƒ«ãƒã‚¾ãƒ¼ãƒ«</label>
          <label class="opt"><input type="radio" name="q4" value="c">ãƒ†ã‚¹ãƒˆã‚¹ãƒ†ãƒ­ãƒ³</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q5">
        <h3>Q5. çŒ«ã«ã‚‚ã€Œé£¼ã„ä¸»ã¸ã®æ„›ç€ã‚¿ã‚¤ãƒ—ï¼ˆå®‰å…¨å‹ãªã©ï¼‰ã€ã£ã¦ã‚ã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q5">
          <label class="opt"><input type="radio" name="q5" value="a">ã‚ã‚‹</label>
          <label class="opt"><input type="radio" name="q5" value="b">ãªã„</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q6">
        <h3>Q6. çŠ¬ã¯ã€ŒãŠã‚„ã¤ã€ã¨ã€Œã»ã‚ã‚‰ã‚Œã‚‹ã€ã€ã©ã£ã¡æ´¾ãŒå¤šã„ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q6">
          <label class="opt"><input type="radio" name="q6" value="a">ãŠã‚„ã¤ä¸€æŠ</label>
          <label class="opt"><input type="radio" name="q6" value="b">å€‹ä½“å·®ãŒãƒ‡ã‚«ã„</label>
          <label class="opt"><input type="radio" name="q6" value="c">ã»ã‚ä¸€æŠ</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q7">
        <h3>Q7. çŒ«ã¯â€œéŸ³ã ã‘â€ã§ã‚‚ã€é£¼ã„ä¸»ã®ã ã„ãŸã„ã®ä½ç½®ã‚’è¿½ãˆã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q7">
          <label class="opt"><input type="radio" name="q7" value="a">è¿½ãˆã‚‹</label>
          <label class="opt"><input type="radio" name="q7" value="b">ç„¡ç†</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q8">
        <h3>Q8. çŠ¬ã®ã—ã£ã½ã€æ°—åˆ†ã§ã€Œå³å¯„ã‚Š/å·¦å¯„ã‚Šã€ã«ã‚¯ã‚»ãŒå‡ºã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q8">
          <label class="opt"><input type="radio" name="q8" value="a">å‡ºã‚‹ï¼ˆå³ï¼ãƒã‚¸ã€å·¦ï¼ãƒã‚¬ï¼‰</label>
          <label class="opt"><input type="radio" name="q8" value="b">å‡ºãªã„</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q9">
        <h3>Q9. äººã®â€œã‚†ã£ãã‚Šç¬ãâ€ã¯ã€çŒ«ã«ã¨ã£ã¦ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q9">
          <label class="opt"><input type="radio" name="q9" value="a">ã€Œå¥½ãã ã‚ˆã€ã®åˆå›³ã«ãªã‚Šã‚„ã™ã„</label>
          <label class="opt"><input type="radio" name="q9" value="b">é€†åŠ¹æœã§è­¦æˆ’</label>
          <label class="opt"><input type="radio" name="q9" value="c">ç„¡é–¢ä¿‚</label>
        </div><div class="ex"></div>
      </div>

      <div class="q" data-qid="q10">
        <h3>Q10. çŠ¬ã®æ•£æ­©ã€é£¼ã„ä¸»ã®é‹å‹•é‡ã¯ã©ã†ãªã‚‹ï¼Ÿ</h3>
        <div class="opts" role="radiogroup" aria-label="Q10">
          <label class="opt"><input type="radio" name="q10" value="a">å¢—ãˆãŒã¡</label>
          <label class="opt"><input type="radio" name="q10" value="b">ã»ã¼å¤‰ã‚ã‚‰ãªã„</label>
          <label class="opt"><input type="radio" name="q10" value="c">ãªãœã‹æ¸›ã‚‹</label>
        </div><div class="ex"></div>
      </div>
    </div>

    <div class="actions">
      <button type="button" id="reset" class="btn">ãƒªã‚»ãƒƒãƒˆ</button>
      <button type="button" id="share" class="btn">å…±æœ‰</button>
    </div>

    <div class="result" aria-live="polite">
      <img id="resultImg" src="assets/results/inu-neko-quiz/03.png" alt="çµæœã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆåˆæœŸï¼‰" />
      <div class="score">æ­£è§£ï¼š<b id="score">0</b> / <span id="total">10</span></div>
      <div class="progress" aria-label="æ­£ç­”ç‡"><i id="bar" style="width:0%"></i></div>
      <div id="label" style="margin-top:6px;font-weight:700">å›ºå®šè¦³å¿µã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆä¸­</div>
      <div style="margin-top:10px">
        <a href="/quiz/index.html" class="btn">ã‚¯ã‚¤ã‚ºä¸€è¦§ã«æˆ»ã‚‹</a>
      </div>
      <div class="lmemo">
        ï¼œæ³•å‹™ãƒ¡ãƒ¢ï¼æœ¬ãƒšãƒ¼ã‚¸ã¯å¨¯æ¥½ãƒ»æ•™è‚²ç›®çš„ã®è¦ç´„ã§ã‚ã‚Šã€åŒ»ç™‚ãƒ»è¡Œå‹•æŒ‡å°ã®ä»£æ›¿ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç ”ç©¶çµæœã«ã¯å‰ææ¡ä»¶ã‚„å€‹ä½“å·®ãƒ»å†ç¾æ€§ã®è­°è«–ãŒã‚ã‚Šã¾ã™ã€‚ç”»åƒãƒ»ãƒ†ã‚­ã‚¹ãƒˆã®è‘—ä½œãƒ»å•†æ¨™ç­‰ã¯å„æ¨©åˆ©è€…ã«å¸°å±ã—ã¾ã™ã€‚
      </div>
    </div>
  </section>
</main>

<footer class="footer">
  Â© çŸ¥è­˜ã®æ°´æ§½ / <a href="/quiz/index.html">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a> ãƒ» <a href="/shindan/">è¨ºæ–­ä¸€è¦§</a>
</footer>

<div class="confetti" id="fx" aria-hidden="true"></div>

<script>
/* ===== æ­£è§£ã‚­ãƒ¼ ===== */
const KEY = { q1:'a', q2:'b', q3:'a', q4:'a', q5:'a', q6:'b', q7:'a', q8:'a', q9:'a', q10:'a' };

/* ===== ãã™ã£ã¨ç³»ãƒ¯ãƒ³ãƒ•ãƒ¬ãƒ¼ã‚ºï¼ˆç ”ç©¶è¦ç´„ï¼‹ã‚¸ãƒ§ãƒ¼ã‚¯ï¼‰ =====
   â€» èª¹è¬—ã‚„ã‚¹ãƒ†ã‚£ã‚°ãƒã¯é¿ã‘ã€ã‚„ã‚ã‚‰ã‹ã„æ¯”å–©ã«ã—ã¦ã„ã¾ã™ã€‚ */
const FUN = {
  q1:{ok:"ã¤ã¾ã‚Šâ€¦çŠ¬æ´¾ã¯ã€é™½ã‚­ãƒ£å¯„ã‚Šï¼Ÿã€çŒ«æ´¾ã¯ã€å†…çœã‚¬ãƒå‹¢ï¼Ÿã€â€»ã‚‚ã¡ã‚ã‚“å€‹ä½“å·®ãƒ‡ã‚«ã„ã€‚",
      ng:"å¹³å‡ã«ã¯å°ã•ãªå·®ã‚ã‚Šã€‚ã¿ã‚“ãªå®Œå…¨ã«åŒã˜ã§ã¯ãªã„ã‚“ã ã‚ˆã­ã€‚"},
  q2:{ok:"ç¿»è¨³ï¼šçŒ«ã¯â€œèº«å†…ã²ã„ãâ€ãŒå°Šã„ã€‚çŸ¥ã‚‰ã‚“äººã®ç”˜å£°ã¯ã‚¹ãƒ«ãƒ¼åŠ›é«˜ã‚ã€‚",
      ng:"èª°ã§ã‚‚OKã§ã¯ãªã„æ§˜å­ã€‚çŒ«ã®ä¸–ç•Œã«ã‚‚ã€ä¼šå“¡åˆ¶ã€ãŒã‚ã‚‹ã€‚"},
  q3:{ok:"åå‰ã¯ã‚ã‹ã£ã¦ã‚‹ã€‚è¿”äº‹ã™ã‚‹ã‹ã¯â€œæ°—åˆ†â€ã¨ã„ã†çŒ«ãƒ«ãƒ¼ãƒ«ã€‚", 
      ng:"èãåˆ†ã‘ã¦ã„ã‚‹è¨¼æ‹ ã‚ã‚Šã€‚éƒ½åˆã‚ˆãç„¡è¦–ã™ã‚‹ãƒ—ãƒ­ã§ã‚‚ã‚ã‚‹ã€‚"},
  q4:{ok:"ã‚ªã‚­ã‚·ãƒˆã‚·ãƒ³â†‘ï¼ç›¸æ€ç›¸æ„›ãƒ›ãƒ«ãƒ¢ãƒ³ã€‚è¦‹ã¤ã‚åˆã„ã¯ç„¡æ–™ã®èª²é‡‘ã€‚", 
      ng:"ã‚¹ãƒˆãƒ¬ã‚¹ç³»ã§ã¯ãªãâ€œçµ†ç³»â€ãŒä¸ŠãŒã‚Šã‚„ã™ã„ã€‚"},
  q5:{ok:"çŒ«ã«ã‚‚æ„›ç€ã‚¿ã‚¤ãƒ—ã€‚ãƒ„ãƒ³ä¸­ã«ã—ã‚Œã£ã¨ãƒ‡ãƒ¬ã€ã¯ç§‘å­¦çš„ã«ã‚‚ã‚¢ãƒªã€‚", 
      ng:"ã€çŒ«ã¯èª°ã«ã‚‚å±ã•ãªã„ã€èª¬ã€ã‘ã£ã“ã†å´©ã‚Œã‚‹ã€‚"},
  q6:{ok:"çµè«–ï¼šçŠ¬ã«ã‚‚â€œç§°è³›å¨â€ã¨â€œãŠã‚„ã¤å‹¢â€ãŒã„ã‚‹ã€‚æ¨ã—ã¯çŠ¬è‡ªèº«ãŒæ±ºã‚ã‚‹ã€‚", 
      ng:"å…¨å“¡ãŠã‚„ã¤ä¸€æŠã§ã¯ãªã„ã€‚æ‹æ‰‹ã§ç›®ãŒã‚­ãƒ©ã‚­ãƒ©ã®å­ã‚‚å¤šã„ã€‚"},
  q7:{ok:"è€³ãƒ¬ãƒ¼ãƒ€ãƒ¼ã§ã”ä¸»äººã®â€œä»Šã©ã“â€ã‚’è„³å†…ãƒãƒƒãƒ—åŒ–ã€‚ã‚¹ãƒ†ãƒ«ã‚¹é£¼ã„ä¸»ä¸å¯ã€‚", 
      ng:"å®Ÿã¯è¿½ãˆã‚‹ä¾‹ãŒã‚ã‚‹ã€‚æ¯ã‚’æ½œã‚ã¦ã‚‚ãƒãƒ¬ãŒã¡ã€‚"},
  q8:{ok:"å³å¯„ã‚Šãƒ–ãƒ³ãƒ–ãƒ³ï¼ã†ã‚Œã—ã¿ã€å·¦å¯„ã‚Šãƒ•ãƒªãƒ•ãƒªï¼ã¡ã‚‡ã„ä¸å®‰å¯„ã‚Šã€‚", 
      ng:"åŒã˜æŒ¯ã‚Šã§ã‚‚â€œå‘ãâ€ã«æ„Ÿæƒ…ã‚µã‚¤ãƒ³ãŒæ··ã–ã‚‹ã€‚"},
  q9:{ok:"ã‚¹ãƒ­ãƒ¼ãƒ–ãƒªãƒ³ã‚¯ï¼çŒ«èªã®ã€ã ã„ã˜ã‚‡ã†ã¶ã ã‚ˆã€ã€‚ã¾ãšã¯äººé–“ãŒå…ˆã«ã€‚", 
      ng:"ã‚†ã£ãã‚ŠãŒã‚³ãƒ„ã€‚ã‚¬ãƒ³è¦‹ã¯é€šå ±ã•ã‚Œã‚‹ã€‚"},
  q10:{ok:"æ•£æ­©ï¼äººé–“ã®é‹å‹•ã‚‚å¢—é‡ã€‚å¥åº·ãƒã‚¤ãƒ³ãƒˆäºŒé‡å–ã‚Šã€‚", 
       ng:"å¢—ãˆã‚‹å‚¾å‘ãŒå¤šã„ã€‚ã‚ºãƒ«ä¼‘ã¿ã¯çŠ¬ã«ãƒãƒ¬ã‚‹ã€‚"}
};

const total = Object.keys(KEY).length;
document.getElementById('total').textContent = total;
let score = 0, answered = new Set();

document.querySelectorAll('.opts input[type="radio"]').forEach(inp=>{
  inp.addEventListener('change', (e)=>{
    const name = e.target.name;  // qid
    const val  = e.target.value;
    const qBox = e.target.closest('.q');
    if(answered.has(name)) return;
    answered.add(name);

    const ok = (val === KEY[name]);
    const pickedLabel = e.target.closest('.opt');
    const opts = qBox.querySelectorAll('.opt');
    opts.forEach(l=>l.style.cursor='default');
    pickedLabel.classList.add(ok ? 'correct' : 'wrong');
    const correctLabel = qBox.querySelector(`input[value="${KEY[name]}"]`).closest('.opt');
    if(!ok) correctLabel.classList.add('correct');

    const ex = qBox.querySelector('.ex');
    ex.innerHTML = (ok?'âœ… æ­£è§£ï¼':'âŒ ä¸æ­£è§£â€¦') + 
                   ' <span class="wink">â€” ' + (ok?FUN[name].ok:FUN[name].ng) + '</span>';

    if(ok){ score++; confettiBurst(); }
    updateScore();
    qBox.querySelectorAll('input[type="radio"]').forEach(r=>r.disabled=true);

    const next = [...document.querySelectorAll('.q')].find(q=>!answered.has(q.dataset.qid));
    if(next){ next.scrollIntoView({behavior:'smooth',block:'center'}); }
  });
});

function updateScore(){
  const bar = document.getElementById('bar');
  const pct = Math.round(score/total*100);
  document.getElementById('score').textContent = score;
  bar.style.width = pct + '%';
if (answered.size === total && !window._quizDone) { window._quizDone = true; window.dispatchEvent(new Event('quiz:done')); }
  const label = document.getElementById('label');
  label.textContent =
    pct>=90 ? 'ç ”ç©¶æ¢ç´¢ãƒã‚¹ã‚¿ãƒ¼âœ¨' :
    pct>=70 ? 'è¦³å¯Ÿé‹­ã„ç ”ç©¶é€šğŸ‘' :
    pct>=50 ? 'è‰¯ã„æ°—ã¥ãã€ã‚ã¨ä¸€æ­©ğŸ”' :
              'å›ºå®šè¦³å¿µã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆä¸­ğŸ”';
  swapResultImage(pct);
}

/* çµæœç”»åƒï¼š01ï¼ˆæœ€é«˜ï¼‰/02ï¼ˆä¸­é–“ï¼‰/03ï¼ˆæœ€ä½ï¼‰ã‚’è¡¨ç¤º */
function swapResultImage(pct){
  const img = document.getElementById('resultImg');
  const tier = pct>=80 ? '01' : pct>=40 ? '02' : '03';
  img.src = `assets/results/inu-neko-quiz/${tier}.png`;
  img.alt = `çµæœã‚¤ãƒ¡ãƒ¼ã‚¸ ${tier}`;
}

document.getElementById('reset').addEventListener('click', ()=>{
  score = 0; answered.clear(); updateScore();
  document.querySelectorAll('.q').forEach(q=>{
    q.querySelectorAll('input[type="radio"]').forEach(r=>{r.checked=false; r.disabled=false;});
    q.querySelectorAll('.opt').forEach(l=>l.classList.remove('correct','wrong'));
    q.querySelector('.ex').textContent='';
  });
  window.scrollTo({top:0,behavior:'smooth'});
});

document.getElementById('share').addEventListener('click', async ()=>{
  const title=document.title, url=location.href, text='çŒ«ã¨çŠ¬ã®å¿ƒç†ç ”ç©¶ã‚¯ã‚¤ã‚ºï½œçŸ¥è­˜ã®æ°´æ§½';
  if(navigator.share){ try{await navigator.share({title,text,url});}catch(_){} }
  else{ await navigator.clipboard.writeText(url); alert('URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ'); }
});

/* ã¡ã‚‡ã„èŠ±ç« */
function confettiBurst(){
  const fx = document.getElementById('fx');
  for(let i=0;i<14;i++){
    const d = document.createElement('i');
    d.className='dot';
    d.style.left = (Math.random()*100)+'%';
    d.style.top  = '0';
    d.style.background = i%3? 'var(--accent)': 'var(--accent2)';
    d.style.transform = `translateY(-10px) translateX(${(Math.random()*40-20)}px)`;
    d.style.animationDelay = (Math.random()*0.2)+'s';
    fx.appendChild(d);
    setTimeout(()=>d.remove(),1000);
  }
}
</script>
<script>
/* ===== ã‚¯ã‚¤ã‚ºå®Œäº†æ™‚ã«â€œã¿ã‚“ãªã®â€åˆè¨ˆã‚’ +1ï¼ˆCountAPIï¼‰===== */
(function(){
  // ãƒšãƒ¼ã‚¸IDï¼ˆå¿…è¦ãªã‚‰ index å´ã®å–å¾—ã«ã‚‚ä½¿ãˆã‚‹ï¼‰
  var MY_ID = document.body.getAttribute('data-id') || 'inu-neko-quiz';

  // CountAPI ã®é›†è¨ˆå…ˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ KEY ã‚’ "quiz_total_"+MY_ID ã«ã™ã‚‹ã¨ã‚¯ã‚¤ã‚ºåˆ¥é›†è¨ˆã«ãªã‚Šã¾ã™ï¼‰
  var COUNTAPI_NS  = 'haisuikounozarigani_quiz';
  var COUNTAPI_KEY = 'quiz_total';

  function hitCount(){
    var url = 'https://api.countapi.xyz/hit/' + COUNTAPI_NS + '/' + COUNTAPI_KEY;
    if (navigator.sendBeacon) {
      try { navigator.sendBeacon(url); } catch(_) {}
    } else {
      fetch(url, { mode:'cors', cache:'no-store', keepalive:true }).catch(function(){});
    }
  }

  // â‘¡ã§ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã—ãŸå®Œäº†ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ‹¾ã£ã¦ä¸€åº¦ã ã‘åŠ ç®—
  window.addEventListener('quiz:done', hitCount, { once:true });
})();
</script>
</body>
</html>